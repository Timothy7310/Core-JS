# Closures Advanced

## Context (lexical environment)
–í JavaScript —É –∫–∞–∂–¥–æ–π –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∏ —Å–∫—Ä–∏–ø—Ç–∞ –µ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –Ω–∏–º–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π (—Å–∫—Ä—ã—Ç—ã–π) –æ–±—ä–µ–∫—Ç,
–Ω–∞–∑—ã–≤–∞–µ–º—ã–π _–ª–µ–∫—Å–∏—á–µ—Å–∫–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º_ `LexicalEnvironment`.

–û–±—ä–µ–∫—Ç –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
1. _Environment Record_ ‚Äì –æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∞ —Ç–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –¥—Ä—É–≥–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Ç–∞–∫–∞—è –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ `this`).
2. –°—Å—ã–ª–∫–∞ –Ω–∞ _–≤–Ω–µ—à–Ω–µ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ_ ‚Äì —Ç–æ –µ—Å—Ç—å —Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É —Å–Ω–∞—Ä—É–∂–∏ (—Å–Ω–∞—Ä—É–∂–∏ –æ—Ç —Ç–µ–∫—É—â–∏—Ö —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫).

üí° **"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è" ‚Äì —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞: Environment Record.**
**¬´–ü–æ–ª—É—á–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é¬ª, –æ–∑–Ω–∞—á–∞–µ—Ç, ¬´–ø–æ–ª—É—á–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞¬ª.**

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —ç—Ç–æ–º –ø—Ä–æ—Å—Ç–æ–º –∫–æ–¥–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

![image](https://github.com/Timothy7310/Core-JS/assets/55184984/f39e16bb-c993-4f99-a6c2-21d604ee34ac)

–≠—Ç–æ, —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ, –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å–æ –≤—Å–µ–º —Å–∫—Ä–∏–ø—Ç–æ–º.

–ù–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –≤—ã—à–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –æ–∑–Ω–∞—á–∞–µ—Ç `Environment Record` (—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö), –∞ —Å—Ç—Ä–µ–ª–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –≤–Ω–µ—à–Ω–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.
–£ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Ç–∞–∫ —á—Ç–æ –æ–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `null`.

–ê –≤–æ—Ç –∫–∞–∫ –æ–Ω–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

![image](https://github.com/Timothy7310/Core-JS/assets/55184984/ddaf97dd-113f-43a2-b05a-361f1360ca42)

–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç, –∫–∞–∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞:

1. –í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø—É—Å—Ç–æ–µ.
2. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `let phrase`. –£ –Ω–µ—ë –Ω–µ—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è `undefined`.
3. –ü–µ—Ä–µ–º–µ–Ω–Ω–æ–π `phrase` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ.
4. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `phrase` –º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.

üìå–ò—Ç–æ–≥–æ:
**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è** ‚Äì —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å —Ç–µ–∫—É—â–∏–º –≤—ã–ø–æ–ª–Ω—è—é—â–∏–º—Å—è –±–ª–æ–∫–æ–º/—Ñ—É–Ω–∫—Ü–∏–µ–π/—Å–∫—Ä–∏–ø—Ç–æ–º.
**–†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏** ‚Äì —ç—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ä–∞–±–æ—Ç–∞ —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

## Understand function creation context (lexical environment)
**–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é `let`, –æ–Ω–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –Ω–µ —Ç–æ–≥–¥–∞, 
–∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –Ω–∏—Ö, –∞ —Ä–∞–Ω—å—à–µ, –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.**

–î–ª—è –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

–í–æ—Ç –ø–æ—á–µ–º—É –º—ã –º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –æ–±—ä—è–≤–ª–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑ Function Declaration, –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.

–°–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ —É–∂–µ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –≤ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —á—Ç–æ-—Ç–æ –µ—Å—Ç—å. 
–¢–∞–º –µ—Å—Ç—å `say`, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ Function Declaration. –ò –ø–æ–∑–∂–µ —Ç–∞–º –ø–æ—è–≤–∏—Ç—Å—è `phrase`, –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–µ —á–µ—Ä–µ–∑ `let`:

![image](https://github.com/Timothy7310/Core-JS/assets/55184984/5fcd306c-f17c-400d-9899-3704f0a63775)

## Be able to explain difference between scope and context
**–û–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è** (scope) –≤ JavaScript - —ç—Ç–æ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ –∫–æ–¥–∞. 
–û–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ var –∏–ª–∏ let –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å **–ª–æ–∫–∞–ª—å–Ω–æ–π** (–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏) –∏–ª–∏ **–≥–ª–æ–±–∞–ª—å–Ω–æ–π** (–≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–π).

**–õ–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** (lexical environment) –≤ JavaScript –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–∫–æ–Ω—Ç–µ–∫—Å—Ç** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. 
–û–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏—è—Ö, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∞ —Ç–∞–∫–∂–µ –æ —Ç–æ–º, –∫–∞–∫ –æ–Ω–∏ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. 
**–õ–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

```js
let myVariable = 42; // scope
const myConst = 43; // scope

console.log("myVariable is", myVariable); // 42
console.log("myConst is", myConst); // 43

// –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
function myFunc() {
  let myLocalVar = 10;
  console.log(`myLocalVar in myFunc is ${myLocalVar}`); // 10
  
  // –ø—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ let
  let newVar = 20;
  myLocalVar = 30; // —Ç–µ–ø–µ—Ä—å myLocalVar –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  console.log(`newVar is ${newVar}`); // 20
  console.log(`myLocalVar is ${myLocalVar}`); // 30
}
myFunc();
console.log("newVar after myFunc is", newVar); // 20
console.log("myLocalVar after myFunc is ", myLocalVar); // undefined
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –æ–±—ä—è–≤–ª—è–µ–º –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `myVariable` –∏ `myConst`. –ó–∞—Ç–µ–º –º—ã –≤—ã–≤–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Å–æ–ª—å.

–î–∞–ª–µ–µ –º—ã —Å–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é `myFunc()`, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `myLocalVar`. 
–ú—ã –≤—ã–≤–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –∑–∞—Ç–µ–º –º–µ–Ω—è–µ–º –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è `myLocalVar` –Ω–∞ –Ω–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `let`.

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ `myFunc()` –º—ã –≤—ã–≤–æ–¥–∏–º –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `newVar` –∏ `myLocalVar` –≤ –∫–æ–Ω—Å–æ–ª—å. 
–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –≤—ã–≤–æ–¥–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `newVar` –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `myLocalVar` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º.

## Inner/outer lexical environment
–í —Ç–µ—á–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ `say()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω–µ—à–Ω—é—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `phrase`. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –ø–æ–¥—Ä–æ–±–Ω–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–µ—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã–∑–æ–≤–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `say("John")` —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫ (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–æ–∫–µ, –æ—Ç–º–µ—á–µ–Ω–Ω–æ–π —Å—Ç—Ä–µ–ª–∫–æ–π):

![image](https://github.com/Timothy7310/Core-JS/assets/55184984/4e158d28-fe30-49f3-a877-096bc505d650)

–ò—Ç–∞–∫, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è: **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ** (–¥–ª—è –≤—ã–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏) –∏ **–≤–Ω–µ—à–Ω–µ–µ** (–≥–ª–æ–±–∞–ª—å–Ω–æ–µ):
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é `say`.  
  –í –Ω—ë–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `name`, –∞—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–∏. –ú—ã –≤—ã–∑—ã–≤–∞–µ–º `say("John")`, —Ç–∞–∫ —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `name` —Ä–∞–≤–Ω–æ `"John"`.
- **–í–Ω–µ—à–Ω–µ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** ‚Äì —ç—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.  
  –í –Ω—ë–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `phrase` –∏ —Å–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è.

–£ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ `outer` –Ω–∞ –≤–Ω–µ—à–Ω–µ–µ.

üìå**–ö–æ–≥–¥–∞ –∫–æ–¥ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ‚Äì —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏, 
–∑–∞—Ç–µ–º –≤–æ –≤–Ω–µ—à–Ω–µ–º, –∑–∞—Ç–µ–º –≤ —Å–ª–µ–¥—É—é—â–µ–º –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –¥–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ.**

–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞, —ç—Ç–æ –±—É–¥–µ—Ç –æ—à–∏–±–∫–æ–π –≤ `strict mode`. –ë–µ–∑ `strict mode`, –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, 
–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º.

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ:

- –ö–æ–≥–¥–∞ `alert` –≤–Ω—É—Ç—Ä–∏ `say` —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ `name`, –æ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏.
- –ö–æ–≥–¥–∞ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ `phrase`, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –æ–Ω —Å–ª–µ–¥—É–µ—Ç –¥–∞–ª—å—à–µ –ø–æ —Å—Å—ã–ª–∫–µ –∫ –≤–Ω–µ—à–Ω–µ–º—É –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é –∏ –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–º.

![image](https://github.com/Timothy7310/Core-JS/assets/55184984/d4dcd1a2-a89e-4883-94bc-c92d1c4ff1ed)

üìå**–§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ç–æ –µ—Å—Ç—å –∏—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**

–°—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∏–≥–¥–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –æ–Ω–∞ –±–µ—Ä—ë—Ç –µ—ë —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å–≤–æ–µ–≥–æ –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

```js
let name = "John";

function sayHi() {
  alert("Hi, " + name);
}

name = "Pete"; // (*)

sayHi(); // Pete
```

–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞, –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤—ã—à–µ:
1. –í –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –µ—Å—Ç—å `name: "John"`.
2. –ù–∞ —Å—Ç—Ä–æ–∫–µ `(*)` –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑–º–µ–Ω—è–µ—Ç—Å—è, —Ç–µ–ø–µ—Ä—å `name: "Pete"`.
3. –ú–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `sayHi()` –∏ –±–µ—Ä—ë—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `name` –∏–∑–≤–Ω–µ. –¢–µ–ø–µ—Ä—å –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≥–¥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–∂–µ —Ä–∞–≤–Ω–∞ `"Pete"`.

## Understand lexical environment traversing mechanism

## Understand connection between function and lexical environment

## Links
- [–ó–∞–º—ã–∫–∞–Ω–∏–µ](https://learn.javascript.ru/closure)
